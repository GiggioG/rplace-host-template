<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Preview</title>
    <style>
        img {
            border: 1px solid black;
            background: repeating-linear-gradient(45deg, black, white 4px);
        }

        * {
            text-align: center;
        }
    </style>
</head>

<body>
    <script>
        setInterval(() => { location.reload(); }, 10 * 1000);
        const host = location.host;

        (async () => {
            let resp = await fetch(`https://${host}/index.json`);
            let json = await resp.json();

            let temps = Object.keys(json);
            temps.forEach(t => {
                document.body.innerHTML += `
                    <div>
                        <h3>${t}</h3>
                        <p>(${json[t].x-500}, ${json[t].y-500})</p>
                        <img src="https://${host}/thumb?imgname=${t}">
                        <hr>
                    </div>
                `;
            });
        })();
    </script>
</body>

</html>